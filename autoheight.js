(function(){function recalcLayout(){var h=document.querySelector('header')?.offsetHeight||0;var f=document.querySelector('.filters')?.offsetHeight||0;var foot=document.querySelector('footer')?.offsetHeight||0;var topOffset=h+f;document.documentElement.style.setProperty('--topOffset',topOffset+'px');var vh=window.innerHeight;var target=vh-topOffset-foot-8;var map=document.getElementById('map');if(map&&target>120)map.style.height=target+'px';}window.addEventListener('load',recalcLayout,{once:true});window.addEventListener('resize',recalcLayout);new ResizeObserver(recalcLayout).observe(document.body);})();